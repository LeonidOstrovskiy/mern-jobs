{"ast":null,"code":"import _regeneratorRuntime from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useGlobalContext}from'../context';import axios from'axios';import Job from'./Job';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var JobList=function JobList(){var _useGlobalContext=useGlobalContext(),userInfo=_useGlobalContext.userInfo;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),jobs=_React$useState4[0],setJobs=_React$useState4[1];React.useEffect(function(){var findJobs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var users_jobs;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return axios.get(\"/api/v1/jobs/getjob/\".concat(userInfo._id));case 4:users_jobs=_context.sent;//alert('hi');\n//console.log(users_jobs);\nsetJobs(users_jobs.data);setLoading(false);_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);setLoading(false);toast.error(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function findJobs(){return _ref.apply(this,arguments);};}();findJobs();},[setLoading,userInfo._id]);var joblist=jobs.map(function(job){return/*#__PURE__*/_jsx(Job,{_id:job._id,function:job.function,company:job.company,started:job.started,finished:job.finished},job._id);});if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"div-center flex bg-dark text-white\",children:\"LOADING...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"div-center flex bg-dark text-white \",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\" \",\"\".concat(userInfo.name,\"'s Job List\")]}),joblist]});};export default JobList;","map":{"version":3,"names":["React","useGlobalContext","axios","Job","toast","JobList","userInfo","useState","loading","setLoading","jobs","setJobs","useEffect","findJobs","get","_id","users_jobs","data","error","message","joblist","map","job","function","company","started","finished","name"],"sources":["D:/documents/DEPLOYTRIES/frontend/src/screens/JobList.js"],"sourcesContent":["import React from 'react';\r\nimport { useGlobalContext } from '../context';\r\nimport axios from 'axios';\r\nimport Job from './Job';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst JobList = () => {\r\n  const { userInfo } = useGlobalContext();\r\n\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [jobs, setJobs] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    const findJobs = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const users_jobs = await axios.get(\r\n          `/api/v1/jobs/getjob/${userInfo._id}`\r\n        );\r\n        //alert('hi');\r\n        //console.log(users_jobs);\r\n        setJobs(users_jobs.data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setLoading(false);\r\n        toast.error(err.message);\r\n      }\r\n      //alert(jobToFind.position);\r\n    };\r\n    findJobs();\r\n  }, [setLoading, userInfo._id]);\r\n\r\n  const joblist = jobs.map((job) => (\r\n    <Job\r\n      key={job._id}\r\n      _id={job._id}\r\n      function={job.function}\r\n      company={job.company}\r\n      started={job.started}\r\n      finished={job.finished}\r\n    />\r\n  ));\r\n\r\n  if (loading) {\r\n    return <div className=\"div-center flex bg-dark text-white\">LOADING...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"div-center flex bg-dark text-white \">\r\n      <h3> {`${userInfo.name}'s Job List`}</h3>\r\n      {joblist}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobList;\r\n"],"mappings":"qXAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,gBAAT,KAAiC,YAAjC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,IAAP,KAAgB,OAAhB,CACA,OAASC,KAAT,KAAsB,gBAAtB,C,wFAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,sBAAqBJ,gBAAgB,EAArC,CAAQK,QAAR,mBAAQA,QAAR,CAEA,oBAA8BN,KAAK,CAACO,QAAN,CAAe,KAAf,CAA9B,oDAAOC,OAAP,qBAAgBC,UAAhB,qBACA,qBAAwBT,KAAK,CAACO,QAAN,CAAe,EAAf,CAAxB,qDAAOG,IAAP,qBAAaC,OAAb,qBAEAX,KAAK,CAACY,SAAN,CAAgB,UAAM,CACpB,GAAMC,SAAQ,4FAAG,oJACfJ,UAAU,CAAC,IAAD,CAAV,CADe,sCAGYP,MAAK,CAACY,GAAN,+BACAR,QAAQ,CAACS,GADT,EAHZ,QAGPC,UAHO,eAMb;AACA;AACAL,OAAO,CAACK,UAAU,CAACC,IAAZ,CAAP,CACAR,UAAU,CAAC,KAAD,CAAV,CATa,+EAWbA,UAAU,CAAC,KAAD,CAAV,CACAL,KAAK,CAACc,KAAN,CAAY,YAAIC,OAAhB,EAZa,oEAAH,kBAARN,SAAQ,0CAAd,CAgBAA,QAAQ,GACT,CAlBD,CAkBG,CAACJ,UAAD,CAAaH,QAAQ,CAACS,GAAtB,CAlBH,EAoBA,GAAMK,QAAO,CAAGV,IAAI,CAACW,GAAL,CAAS,SAACC,GAAD,qBACvB,KAAC,GAAD,EAEE,GAAG,CAAEA,GAAG,CAACP,GAFX,CAGE,QAAQ,CAAEO,GAAG,CAACC,QAHhB,CAIE,OAAO,CAAED,GAAG,CAACE,OAJf,CAKE,OAAO,CAAEF,GAAG,CAACG,OALf,CAME,QAAQ,CAAEH,GAAG,CAACI,QANhB,EACOJ,GAAG,CAACP,GADX,CADuB,EAAT,CAAhB,CAWA,GAAIP,OAAJ,CAAa,CACX,mBAAO,YAAK,SAAS,CAAC,oCAAf,wBAAP,CACD,CAED,mBACE,aAAK,SAAS,CAAC,qCAAf,wBACE,oCAASF,QAAQ,CAACqB,IAAlB,kBADF,CAEGP,OAFH,GADF,CAMD,CA/CD,CAiDA,cAAef,QAAf"},"metadata":{},"sourceType":"module"}