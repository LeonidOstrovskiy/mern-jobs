{"ast":null,"code":"import _regeneratorRuntime from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,Form,FormControl,FormGroup,FormLabel}from'react-bootstrap';import{useGlobalContext}from'../context';import React from'react';import{useNavigate,useParams}from'react-router-dom';import axios from'axios';import{useCallback}from'react';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditJob=function EditJob(){var _useGlobalContext=useGlobalContext(),userInfo=_useGlobalContext.userInfo;var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),position=_React$useState2[0],setPosition=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),company=_React$useState4[0],setCompany=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),started=_React$useState6[0],setStarted=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),finished=_React$useState8[0],setFinished=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),loading=_React$useState10[0],setLoading=_React$useState10[1];var _React$useState11=React.useState({}),_React$useState12=_slicedToArray(_React$useState11,2),job=_React$useState12[0],setJob=_React$useState12[1];var url=\"/api/v1/jobs/getjob/job/\".concat(id);var fetchJob=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var fetched_job;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(url);case 3:fetched_job=_context.sent;setJob(fetched_job.data);setCompany(fetched_job.data.company);setPosition(fetched_job.data.function);setStarted(fetched_job.data.started);setFinished(fetched_job.data.finished);setLoading(false);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);toast.error(_context.t0.message);setLoading(false);case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);})),[url]);React.useEffect(function(){setLoading(true);fetchJob();},[fetchJob]);var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var patch_url,newJob;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();patch_url=\"/api/v1/jobs/editjob/\".concat(job._id);newJob={function:position.toLowerCase(),company:company.toLowerCase(),started:started,finished:finished};_context2.prev=3;_context2.next=6;return axios.patch(patch_url,newJob);case 6:navigate('/users/joblist');_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](3);toast.error(_context2.t0.message);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[3,9]]);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"div-center flex bg-dark text-white \",children:\" LOADING... \"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"div-center flex bg-dark text-white \",children:[' ',userInfo&&/*#__PURE__*/_jsxs(\"div\",{children:[\" \",userInfo.name,\" \"]}),\" \",/*#__PURE__*/_jsx(\"h3\",{children:\" Edit Job \"}),' ',/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\" Position \"}),' ',/*#__PURE__*/_jsx(FormControl,{type:\"text\",onChange:function onChange(e){return setPosition(e.target.value);},value:position}),' ']}),' ',/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\" Company \"}),' ',/*#__PURE__*/_jsx(FormControl,{type:\"text\",onChange:function onChange(e){return setCompany(e.target.value);},value:company}),' ']}),' ',/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\" Started \"}),' ',/*#__PURE__*/_jsx(FormControl,{type:\"text\",onChange:function onChange(e){return setStarted(e.target.value);},value:started}),' ']}),' ',/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\" Finished \"}),' ',/*#__PURE__*/_jsx(FormControl,{type:\"text\",onChange:function onChange(e){return setFinished(e.target.value);},value:finished}),' ']}),' ',/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(Button,{type:\"submit\",style:{width:'100%'},children:[' ',\"Submit\",' ']}),' ']}),' ']}),' ']});};export default EditJob;","map":{"version":3,"names":["Button","Form","FormControl","FormGroup","FormLabel","useGlobalContext","React","useNavigate","useParams","axios","useCallback","toast","EditJob","userInfo","navigate","id","useState","position","setPosition","company","setCompany","started","setStarted","finished","setFinished","loading","setLoading","job","setJob","url","fetchJob","get","fetched_job","data","function","error","message","useEffect","submitHandler","e","preventDefault","patch_url","_id","newJob","toLowerCase","patch","name","target","value","width"],"sources":["D:/documents/DEPLOYTRIES/frontend/src/screens/EditJob.js"],"sourcesContent":["import {\r\n  Button,\r\n  Form,\r\n  FormControl,\r\n  FormGroup,\r\n  FormLabel,\r\n} from 'react-bootstrap';\r\nimport { useGlobalContext } from '../context';\r\nimport React from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useCallback } from 'react';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst EditJob = () => {\r\n  const { userInfo } = useGlobalContext();\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  const [position, setPosition] = React.useState('');\r\n  const [company, setCompany] = React.useState('');\r\n  const [started, setStarted] = React.useState('');\r\n  const [finished, setFinished] = React.useState('');\r\n\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  const [job, setJob] = React.useState({});\r\n\r\n  const url = `/api/v1/jobs/getjob/job/${id}`;\r\n\r\n  const fetchJob = useCallback(async () => {\r\n    try {\r\n      const fetched_job = await axios.get(url);\r\n      setJob(fetched_job.data);\r\n      setCompany(fetched_job.data.company);\r\n      setPosition(fetched_job.data.function);\r\n      setStarted(fetched_job.data.started);\r\n      setFinished(fetched_job.data.finished);\r\n\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n      setLoading(false);\r\n    }\r\n  }, [url]);\r\n\r\n  React.useEffect(() => {\r\n    setLoading(true);\r\n\r\n    fetchJob();\r\n  }, [fetchJob]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    const patch_url = `/api/v1/jobs/editjob/${job._id}`;\r\n\r\n    const newJob = {\r\n      function: position.toLowerCase(),\r\n      company: company.toLowerCase(),\r\n      started: started,\r\n      finished: finished,\r\n    };\r\n\r\n    try {\r\n      await axios.patch(patch_url, newJob);\r\n      navigate('/users/joblist');\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"div-center flex bg-dark text-white \"> LOADING... </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"div-center flex bg-dark text-white \">\r\n      {' '}\r\n      {userInfo && <div> {userInfo.name} </div>} <h3> Edit Job </h3>{' '}\r\n      <Form onSubmit={submitHandler}>\r\n        <FormGroup>\r\n          <FormLabel> Position </FormLabel>{' '}\r\n          <FormControl\r\n            type=\"text\"\r\n            onChange={(e) => setPosition(e.target.value)}\r\n            value={position}\r\n          />{' '}\r\n        </FormGroup>{' '}\r\n        <FormGroup>\r\n          <FormLabel> Company </FormLabel>{' '}\r\n          <FormControl\r\n            type=\"text\"\r\n            onChange={(e) => setCompany(e.target.value)}\r\n            value={company}\r\n          />{' '}\r\n        </FormGroup>{' '}\r\n        <FormGroup>\r\n          <FormLabel> Started </FormLabel>{' '}\r\n          <FormControl\r\n            type=\"text\"\r\n            onChange={(e) => setStarted(e.target.value)}\r\n            value={started}\r\n          />{' '}\r\n        </FormGroup>{' '}\r\n        <FormGroup>\r\n          <FormLabel> Finished </FormLabel>{' '}\r\n          <FormControl\r\n            type=\"text\"\r\n            onChange={(e) => setFinished(e.target.value)}\r\n            value={finished}\r\n          />{' '}\r\n        </FormGroup>{' '}\r\n        <div className=\"btn-container\" style={{ width: '100%' }}>\r\n          <Button type=\"submit\" style={{ width: '100%' }}>\r\n            {' '}\r\n            Submit{' '}\r\n          </Button>{' '}\r\n        </div>{' '}\r\n      </Form>{' '}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditJob;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}