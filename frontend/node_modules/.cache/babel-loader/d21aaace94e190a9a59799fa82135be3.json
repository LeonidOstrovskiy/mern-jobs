{"ast":null,"code":"import _regeneratorRuntime from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React from'react';import{Button,Form,FormControl,FormGroup,FormLabel}from'react-bootstrap';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GetAnyJobs=function GetAnyJobs(){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),position=_React$useState2[0],setPosition=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];var _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),jobs=_React$useState6[0],setJobs=_React$useState6[1];var setPositionHandler=React.useCallback(function(e){return setPosition(e.target.value.toLowerCase());},[]);var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var queryObject,search_jobs;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();setLoading(true);_context.prev=2;queryObject={function:position.toLowerCase()};_context.next=6;return axios.get(\"/api/v1/jobs/getjobs/\".concat(position),queryObject);case 6:search_jobs=_context.sent;setJobs(search_jobs.data);setLoading(false);_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);toast.error(_context.t0.message);setLoading(false);case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();var getusersjobsHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(createdBy){var usersjobs;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.prev=1;_context2.next=4;return axios.get(\"/api/v1/jobs/getjobs/getusersjobs/\".concat(createdBy),{createdBy:createdBy});case 4:usersjobs=_context2.sent;setJobs(usersjobs.data);setLoading(false);_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);toast.error(_context2.t0.message);setLoading(false);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function getusersjobsHandler(_x2){return _ref2.apply(this,arguments);};}();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"div-center flex text-white bg-ground \",children:\" LOADING... \"});}var Job=function Job(props){return/*#__PURE__*/_jsxs(\"div\",{className:\"div-job-container flex text-white \",onClick:function onClick(){return getusersjobsHandler(props.createdBy);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-container\",children:[' ',/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\" Name: \"}),' ']}),' ',/*#__PURE__*/_jsxs(\"span\",{className:\"right\",children:[\" \",props.name,\" \"]}),' ']}),' ',/*#__PURE__*/_jsxs(\"div\",{className:\"item-container\",children:[' ',/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\" Position: \"}),' ']}),' ',/*#__PURE__*/_jsxs(\"span\",{className:\"right\",children:[\" \",props.function,\" \"]}),' ']}),' ',/*#__PURE__*/_jsxs(\"div\",{className:\"item-container\",children:[' ',/*#__PURE__*/_jsxs(\"span\",{children:[' ',/*#__PURE__*/_jsx(\"strong\",{children:\" Company: \"}),' ']}),' ',/*#__PURE__*/_jsxs(\"span\",{className:\"right\",children:[\" \",props.company,\" \"]}),' ']}),' ',/*#__PURE__*/_jsxs(\"div\",{className:\"item-container\",children:[' ',/*#__PURE__*/_jsxs(\"span\",{children:[' ',/*#__PURE__*/_jsx(\"strong\",{children:\" Started: \"}),' ']}),' ',/*#__PURE__*/_jsxs(\"span\",{className:\"right\",children:[\" \",props.started,\" \"]}),' ']}),' ',/*#__PURE__*/_jsxs(\"div\",{className:\"item-container\",children:[' ',/*#__PURE__*/_jsxs(\"span\",{children:[' ',/*#__PURE__*/_jsx(\"strong\",{children:\" Finished: \"}),' ']}),' ',/*#__PURE__*/_jsxs(\"span\",{className:\"right\",children:[\" \",props.finished,\" \"]}),' ']}),' ']});};var alljobs=[];if(jobs){alljobs=jobs.map(function(job){return/*#__PURE__*/_jsx(Job,{createdBy:job.createdBy,company:job.company,started:job.started,finished:job.finished,function:job.function,name:job.name},job._id);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"div-form-container flex text-white \",children:[/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\" Position \"}),' ',/*#__PURE__*/_jsx(FormControl,{type:\"text\",onChange:function onChange(e){return setPositionHandler(e);}}),' ']}),' ',/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(Button,{type:\"submit\",style:{width:'100%'},children:[\"Search\",' ']}),' ']}),' ']}),alljobs&&/*#__PURE__*/_jsxs(\"div\",{className:\"job-listing\",children:[\" \",alljobs,\" \"]}),' ',alljobs.length<1&&/*#__PURE__*/_jsx(\"div\",{children:\" Nothing to display \"}),' ']});};export default GetAnyJobs;","map":{"version":3,"names":["axios","React","Button","Form","FormControl","FormGroup","FormLabel","toast","GetAnyJobs","useState","position","setPosition","loading","setLoading","jobs","setJobs","setPositionHandler","useCallback","e","target","value","toLowerCase","submitHandler","preventDefault","queryObject","function","get","search_jobs","data","error","message","getusersjobsHandler","createdBy","usersjobs","Job","props","name","company","started","finished","alljobs","map","job","_id","width","length"],"sources":["D:/documents/DEPLOYTRIES/frontend/src/screens/getAnyJobs.js"],"sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport {\r\n  Button,\r\n  Form,\r\n  FormControl,\r\n  FormGroup,\r\n  FormLabel,\r\n} from 'react-bootstrap';\r\n\r\nimport { toast } from 'react-toastify';\r\n\r\nconst GetAnyJobs = () => {\r\n  const [position, setPosition] = React.useState('');\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [jobs, setJobs] = React.useState(null);\r\n\r\n  const setPositionHandler = React.useCallback(\r\n    (e) => setPosition(e.target.value.toLowerCase()),\r\n    []\r\n  );\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setLoading(true);\r\n    try {\r\n      const queryObject = { function: position.toLowerCase() };\r\n\r\n      const search_jobs = await axios.get(\r\n        `/api/v1/jobs/getjobs/${position}`,\r\n        queryObject\r\n      );\r\n\r\n      setJobs(search_jobs.data);\r\n\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getusersjobsHandler = async (createdBy) => {\r\n    setLoading(true);\r\n    try {\r\n      const usersjobs = await axios.get(\r\n        `/api/v1/jobs/getjobs/getusersjobs/${createdBy}`,\r\n        { createdBy }\r\n      );\r\n\r\n      setJobs(usersjobs.data);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"div-center flex text-white bg-ground \"> LOADING... </div>\r\n    );\r\n  }\r\n\r\n  const Job = (props) => {\r\n    return (\r\n      <div\r\n        className=\"div-job-container flex text-white \"\r\n        onClick={() => getusersjobsHandler(props.createdBy)}\r\n      >\r\n        <div className=\"item-container\">\r\n          {' '}\r\n          <span>\r\n            <strong> Name: </strong>{' '}\r\n          </span>{' '}\r\n          <span className=\"right\"> {props.name} </span>{' '}\r\n        </div>{' '}\r\n        <div className=\"item-container\">\r\n          {' '}\r\n          <span>\r\n            <strong> Position: </strong>{' '}\r\n          </span>{' '}\r\n          <span className=\"right\"> {props.function} </span>{' '}\r\n        </div>{' '}\r\n        <div className=\"item-container\">\r\n          {' '}\r\n          <span>\r\n            {' '}\r\n            <strong> Company: </strong>{' '}\r\n          </span>{' '}\r\n          <span className=\"right\"> {props.company} </span>{' '}\r\n        </div>{' '}\r\n        <div className=\"item-container\">\r\n          {' '}\r\n          <span>\r\n            {' '}\r\n            <strong> Started: </strong>{' '}\r\n          </span>{' '}\r\n          <span className=\"right\"> {props.started} </span>{' '}\r\n        </div>{' '}\r\n        <div className=\"item-container\">\r\n          {' '}\r\n          <span>\r\n            {' '}\r\n            <strong> Finished: </strong>{' '}\r\n          </span>{' '}\r\n          <span className=\"right\"> {props.finished} </span>{' '}\r\n        </div>{' '}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  let alljobs = [];\r\n  if (jobs) {\r\n    alljobs = jobs.map((job) => {\r\n      return (\r\n        <Job\r\n          key={job._id}\r\n          createdBy={job.createdBy}\r\n          company={job.company}\r\n          started={job.started}\r\n          finished={job.finished}\r\n          function={job.function}\r\n          name={job.name}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"div-form-container flex text-white \">\r\n      <Form onSubmit={submitHandler}>\r\n        <FormGroup>\r\n          <FormLabel> Position </FormLabel>{' '}\r\n          <FormControl type=\"text\" onChange={(e) => setPositionHandler(e)} />{' '}\r\n        </FormGroup>{' '}\r\n        <div className=\"btn-container\" style={{ width: '100%' }}>\r\n          <Button type=\"submit\" style={{ width: '100%' }}>\r\n            Search{' '}\r\n          </Button>{' '}\r\n        </div>{' '}\r\n      </Form>\r\n      {alljobs && <div className=\"job-listing\"> {alljobs} </div>}{' '}\r\n      {alljobs.length < 1 && <div> Nothing to display </div>}{' '}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GetAnyJobs;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}