{"ast":null,"code":"import _regeneratorRuntime from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/documents/DEPLOYTRIES/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React from'react';import{Button,Form,FormControl,FormGroup,FormLabel}from'react-bootstrap';import{useNavigate}from'react-router-dom';import{useGlobalContext}from'../context';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostJob=function PostJob(){var _useGlobalContext=useGlobalContext(),userInfo=_useGlobalContext.userInfo,loading=_useGlobalContext.loading;var navigate=useNavigate();var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),position=_React$useState2[0],setPosition=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),company=_React$useState4[0],setCompany=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),begin=_React$useState6[0],setBegin=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),end=_React$useState8[0],setEnd=_React$useState8[1];if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"div-center flex bg-dark text-white \",children:\" Loading... \"});}var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// alert(JSON.parse(localStorage.getItem('userInfo')));\n_context.prev=1;_context.next=4;return axios.post('/api/v1/jobs/postjob',{function:position.toLowerCase(),company:company.toLowerCase(),started:begin,finished:end,createdBy:userInfo._id,name:userInfo.name});case 4:navigate('/users/joblist');_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);toast.error(_context.t0.message);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"div-center flex bg-dark text-white \",children:[' ',/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\" Position \"}),' ',/*#__PURE__*/_jsx(FormControl,{type:\"text\",required:true,onChange:function onChange(e){return setPosition(e.target.value);}}),' ']}),' ',/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\" Company \"}),' ',/*#__PURE__*/_jsx(FormControl,{type:\"text\",required:true,onChange:function onChange(e){return setCompany(e.target.value);}}),' ']}),' ',/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\" Started \"}),' ',/*#__PURE__*/_jsx(FormControl,{type:\"text\",onChange:function onChange(e){return setBegin(e.target.value);}}),' ']}),' ',/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(FormLabel,{children:\" Finished \"}),' ',/*#__PURE__*/_jsx(FormControl,{type:\"text\",onChange:function onChange(e){return setEnd(e.target.value);}}),' ']}),' ',/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(Button,{type:\"submit\",style:{width:'100%'},children:[\"Submit\",' ']}),' ']}),' ']}),' ']});};export default PostJob;","map":{"version":3,"names":["axios","React","Button","Form","FormControl","FormGroup","FormLabel","useNavigate","useGlobalContext","toast","PostJob","userInfo","loading","navigate","useState","position","setPosition","company","setCompany","begin","setBegin","end","setEnd","submitHandler","e","preventDefault","post","function","toLowerCase","started","finished","createdBy","_id","name","error","message","target","value","width"],"sources":["D:/documents/DEPLOYTRIES/frontend/src/screens/PostJob.js"],"sourcesContent":["import axios from 'axios';\r\nimport React from 'react';\r\nimport {\r\n  Button,\r\n  Form,\r\n  FormControl,\r\n  FormGroup,\r\n  FormLabel,\r\n} from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useGlobalContext } from '../context';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst PostJob = () => {\r\n  const { userInfo, loading } = useGlobalContext();\r\n  const navigate = useNavigate();\r\n  const [position, setPosition] = React.useState('');\r\n  const [company, setCompany] = React.useState('');\r\n  const [begin, setBegin] = React.useState('');\r\n  const [end, setEnd] = React.useState('');\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"div-center flex bg-dark text-white \"> Loading... </div>\r\n    );\r\n  }\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // alert(JSON.parse(localStorage.getItem('userInfo')));\r\n    try {\r\n      // alert(userInfo._id);\r\n      await axios.post('/api/v1/jobs/postjob', {\r\n        function: position.toLowerCase(),\r\n        company: company.toLowerCase(),\r\n        started: begin,\r\n        finished: end,\r\n        createdBy: userInfo._id,\r\n        name: userInfo.name,\r\n      });\r\n      navigate('/users/joblist');\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"div-center flex bg-dark text-white \">\r\n      {' '}\r\n      <Form onSubmit={submitHandler}>\r\n        <FormGroup>\r\n          <FormLabel> Position </FormLabel>{' '}\r\n          <FormControl\r\n            type=\"text\"\r\n            required\r\n            onChange={(e) => setPosition(e.target.value)}\r\n          />{' '}\r\n        </FormGroup>{' '}\r\n        <FormGroup>\r\n          <FormLabel> Company </FormLabel>{' '}\r\n          <FormControl\r\n            type=\"text\"\r\n            required\r\n            onChange={(e) => setCompany(e.target.value)}\r\n          />{' '}\r\n        </FormGroup>{' '}\r\n        <FormGroup>\r\n          <FormLabel> Started </FormLabel>{' '}\r\n          <FormControl type=\"text\" onChange={(e) => setBegin(e.target.value)} />{' '}\r\n        </FormGroup>{' '}\r\n        <FormGroup>\r\n          <FormLabel> Finished </FormLabel>{' '}\r\n          <FormControl type=\"text\" onChange={(e) => setEnd(e.target.value)} />{' '}\r\n        </FormGroup>{' '}\r\n        <div className=\"btn-container\" style={{ width: '100%' }}>\r\n          <Button type=\"submit\" style={{ width: '100%' }}>\r\n            Submit{' '}\r\n          </Button>{' '}\r\n        </div>{' '}\r\n      </Form>{' '}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostJob;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}